<mat-tab-group class="tabs-navigation" #navtabs [id]="id" animationDuration="0ms">
  @for (tab of field.fieldGroup; let i = $index; track i) {
  <mat-tab>
    <ng-template mat-tab-label>
      <div [ngClass]="i === navtabs.selectedIndex ? 'selected-tab' : 'unselected-tab'">
        <div>
          <mat-icon [svgIcon]="isValid(tab) ? 'checkmark-outline' : 'circle-dash'"></mat-icon>
        </div>
        {{ tab.props?.label }}
      </div>
    </ng-template>
    @if (FEATURE_FLAG_PORTAL_PAGE_STRUCTURE) {
      <div id="disease-form-section-header" class="section-header">
        @let titleText = tab.props?.label || '';
        <gem-demis-section-header id="disease-form-section-headline" [level]="1" [titleText]="titleText"></gem-demis-section-header>
      </div>
    } @else {
      <div id="disease-form-section-header_deprecated" class="section-header_deprecated">
        <h1 class="section-title">{{ tab.props?.label }}</h1>
        <div class="oval-label"> Schritt {{ navtabs.selectedIndex !== null ? navtabs.selectedIndex + 1 : '?' }}
          von {{ tabCount() }}
        </div>
      </div>
    }
    <div class="section-body">
      <gem-demis-max-height-content-container
        [elementSelectorsToSubtract]="['app-navbar', '#disease-form-section-header_deprecated', '#disease-form-section-header', '#disease-form-action-bar-wrapper']">
        <formly-field [field]="tab"></formly-field>
      </gem-demis-max-height-content-container>
    </div>
  </mat-tab>
  }
</mat-tab-group>
